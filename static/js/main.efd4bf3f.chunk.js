(this.webpackJsonpbuscaminas=this.webpackJsonpbuscaminas||[]).push([[0],[,,,,,,,,,,function(e,n,t){},,,function(e,n,t){},,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(5),c=t.n(o),s=(t(10),t(2)),i=t(3),u=["red","blue","green","blueviolet","darkcyan","darkmagenta","","black"],l=(t(13),t(0));function b(e){return Object(l.jsx)("div",{className:"Bomb-wrapper"})}t(15);function d(e){return Object(l.jsx)("div",{className:"Flag-wrapper"})}t(16);function h(e){var n=e.showed,t=e.nro,a=e.flag,r=e.onClick,o=Object(l.jsx)("div",{});return n===j.SHOWED||n===j.EXPLODED?-1===t?o=Object(l.jsx)(b,{}):0!==t&&(o=t):n!==j.SHOWED&&a&&(o=Object(l.jsx)(d,{})),Object(l.jsx)("div",{className:"BoardTile-wrapper ".concat(n===j.SHOWED?"BoardTile-showed":""," ").concat(n===j.EXPLODED?"BoardTile-showed-fail":""),style:{color:u[t]},onClick:r,children:o})}var j;t(17),t(18);function p(e){var n=e.lenghX,t=e.lenghY,a=e.bombsQty,r=e.onChange;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"BoardSettings-wrapper",children:["X:",Object(l.jsx)("input",{value:n,className:"BoardSettings-input",type:"number",onChange:function(e){r({lenghY:t,bombsQty:a,lenghX:parseInt(e.currentTarget.value)})}}),"Y:",Object(l.jsx)("input",{value:t,className:"BoardSettings-input",type:"number",onChange:function(e){r({lenghX:n,bombsQty:a,lenghY:parseInt(e.currentTarget.value)})}}),"Bombs:",Object(l.jsx)("input",{value:a,className:"BoardSettings-input",type:"number",onChange:function(e){r({lenghY:t,lenghX:n,bombsQty:parseInt(e.currentTarget.value)})}})]}),Object(l.jsx)("button",{className:"BoardSettings-button",onClick:e.onReset,children:"Reset"})]})}function f(e,n,t){for(var a=[],r=0;r<e+2;r++){for(var o=[],c=0;c<n+2;c++)o.push(0);a.push(o)}for(var s=i.cloneDeep(a),u=0;u<t;){var l=Math.round(Math.random()*(e-1))+1,b=Math.round(Math.random()*(n-1))+1;-1!==a[l][b]&&(a[l][b]=-1,-1!==a[l+1][b+1]&&a[l+1][b+1]++,-1!==a[l+1][b]&&a[l+1][b]++,-1!==a[l+1][b-1]&&a[l+1][b-1]++,-1!==a[l-1][b+1]&&a[l-1][b+1]++,-1!==a[l-1][b]&&a[l-1][b]++,-1!==a[l-1][b-1]&&a[l-1][b-1]++,-1!==a[l][b+1]&&a[l][b+1]++,-1!==a[l][b-1]&&a[l][b-1]++,u++)}return{zeroBoard:s,newBoard:a}}!function(e){e[e.HIDDEN=0]="HIDDEN",e[e.SHOWED=1]="SHOWED",e[e.FLAG=2]="FLAG",e[e.IDK=3]="IDK",e[e.EXPLODED=5]="EXPLODED"}(j||(j={}));var g=function(){var e=Object(a.useState)({lenghX:24,lenghY:32,bombsQty:99}),n=Object(s.a)(e,2),t=n[0],r=n[1],o=t.lenghX,c=t.lenghY,u=t.bombsQty,b=Object(a.useState)([[0,0,0],[0,0,0],[0,0,0]]),d=Object(s.a)(b,2),g=d[0],O=d[1],m=Object(a.useState)([[0,0,1],[0,-1,1],[1,1,1]]),v=Object(s.a)(m,2),D=v[0],E=v[1],x=Object(a.useState)(!1),B=Object(s.a)(x,2),S=B[0],y=B[1];Object(a.useEffect)((function(){var e=f(o,c,u);E(e.newBoard),O(e.zeroBoard)}),[o,c,u]);var w=g,X=function e(n,t){n+1<o+1&&0===w[n+1][t]&&(w[n+1][t]=1,0===D[n+1][t]&&e(n+1,t)),n-1>0&&0===w[n-1][t]&&(w[n-1][t]=1,0===D[n-1][t]&&e(n-1,t)),t+1<c+1&&0===w[n][t+1]&&(w[n][t+1]=1,0===D[n][t+1]&&e(n,t+1)),t-1>0&&0===w[n][t-1]&&(w[n][t-1]=1,0===D[n][t-1]&&e(n,t-1)),t-1>0&&n-1>0&&0===w[n-1][t-1]&&(w[n-1][t-1]=1,0===D[n-1][t-1]&&e(n-1,t-1)),t-1>0&&n+1<o+1&&0===w[n+1][t-1]&&(w[n+1][t-1]=1,0===D[n+1][t-1]&&e(n+1,t-1)),t+1<c+1&&n+1<o+1&&0===w[n+1][t+1]&&(w[n+1][t+1]=1,0===D[n+1][t+1]&&e(n+1,t+1)),t+1<c+1&&n-1>0&&0===w[n-1][t+1]&&(w[n-1][t+1]=1,0===D[n-1][t+1]&&e(n-1,t+1))};return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("header",{className:"App-header",children:"MineSweeper"}),Object(l.jsx)("div",{className:"App-options",children:Object(l.jsx)(p,{lenghX:o,lenghY:c,bombsQty:u,onReset:function(){var e=f(o,c,u);E(e.newBoard),O(e.zeroBoard),y(!1)},onChange:function(e){if(!(e.lenghX*e.lenghY<=e.bombsQty)){r(e);var n=f(e.lenghX,e.lenghY,e.bombsQty);E(n.newBoard),O(n.zeroBoard),y(!1)}}})}),Object(l.jsx)("body",{className:"App-body",style:{gridTemplateRows:"repeat(".concat(o,", 25px)"),gridTemplateColumns:"repeat(".concat(c,", 25px)")},children:D.map((function(e,n){return e.map((function(e,t){return 0!==n&&0!==t&&n!==o+1&&t!==c+1&&Object(l.jsx)(h,{nro:e,showed:g[n][t],flag:g[n][t]===j.FLAG,onClick:function(){if(!S){if(-1===D[n][t])return D.forEach((function(e,n){e.forEach((function(e,t){-1===e&&(w[n][t]=j.SHOWED)}))})),w[n][t]=j.EXPLODED,O(i.cloneDeep(w)),void y(!0);w[n][t]=j.SHOWED,0===D[n][t]&&X(n,t),O(i.cloneDeep(w)),function(){var e=0;g.forEach((function(n){n.forEach((function(n){1===n&&e++}))})),u===o*c-e&&alert("You win!")}()}}})}))}))})]})},O=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,20)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,o=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),o(e),c(e)}))};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root")),O()}],[[19,1,2]]]);
//# sourceMappingURL=main.efd4bf3f.chunk.js.map